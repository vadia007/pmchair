<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.6: http://docutils.sourceforge.net/" />
<title>Документация расширения ВЛОЖЕНИЯ (Attachments)</title>
<link rel="stylesheet" href="help.css" type="text/css" />
</head>
<body>
<div class="header">
<h1 class="title">Документация расширения ВЛОЖЕНИЯ (Attachments)</h1>
<hr class="header"/>
</div>
<div class="document">


<p class="version"><strong>Версия 3.0.1 - Сентябрь 2011</strong></p>
<p><strong>Данная версия совместима с Joomla 1.6/1.7+</strong></p>
<div class="contents topic" id="contents">
<p class="topic-title first">Содержание</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Введение</a></li>
<li><a class="reference internal" href="#new-features-in-version-3-0" id="id2">Новые возможности версии 3.0</a></li>
<li><a class="reference internal" href="#major-features-of-the-attachments-extension" id="id3">Основные функции расширения ВЛОЖЕНИЯ (Attachments)</a></li>
<li><a class="reference internal" href="#uploading-restrictions" id="id4">Ограничения на загрузку</a></li>
<li><a class="reference internal" href="#attachments-settings" id="id5">Настройки</a></li>
<li><a class="reference internal" href="#attachments-permissions" id="id6">Разрешения на вложения</a></li>
<li><a class="reference internal" href="#access-levels-visibility-control" id="id7">Управление уровнями доступа/видимости (ALC)</a></li>
<li><a class="reference internal" href="#display-filename-or-url" id="id8">Отображение имен файлов или ссылок</a></li>
<li><a class="reference internal" href="#attaching-urls" id="id9">Вложение ссылок</a></li>
<li><a class="reference internal" href="#what-can-files-be-attached-to" id="id10">Как можно вложить файлы?</a></li>
<li><a class="reference internal" href="#css-styling-of-attachment-lists" id="id11">CSS стили списка вложений</a></li>
<li><a class="reference internal" href="#file-type-icons" id="id12">Иконки типов файлов</a></li>
<li><a class="reference internal" href="#administrative-utility-commands" id="id13">Утилиты</a></li>
<li><a class="reference internal" href="#warnings" id="id14">Предупреждения</a></li>
<li><a class="reference internal" href="#upgrading" id="id15">Обновление</a></li>
<li><a class="reference internal" href="#uninstalling" id="id16">Удаление</a></li>
<li><a class="reference internal" href="#migration-attachments-from-joomla-1-5-to-joomla-1-6" id="id17">Обновление компонента ВЛОЖЕНИЯ Joomla 1.5 до Joomla 1.6+</a></li>
<li><a class="reference internal" href="#translations" id="id18">Переводы</a></li>
<li><a class="reference internal" href="#acknowledgments" id="id19">Благодарности</a></li>
<li><a class="reference internal" href="#contact" id="id20">Контакты</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h1><a class="toc-backref" href="#id1">Введение</a></h1>
<p>Расширение ВЛОЖЕНИЯ (Attachments) для CMS Joomla! позволяет загружать файлы на сайт и присоединять (attach) 
их к статье или другому родителю. ВЛОЖЕНИЯ включает в себя 
плагин для отображения вложений, компонент для загрузки и управления
вложениями и другие плагины. Наряду с различными опциями, увеличивающими гибкость и удобство использования,
в расширении присутствуют опции контроля того, кто может видеть вложения и
кто может их загружать. 
<br>
Замечание: все опции доступны через админ-панель 'Компоненты > Вложения > Настройки'.
</p>
<div class="warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">Эта версия расширения <em>ВЛОЖЕНИЯ</em> работает только под управлением Joomla! 1.6, 1.7 и выше.</p>
</div>
<div class="note">
<p class="first admonition-title">Замечание</p>
<p class="last">Далее в документе будет использоваться термин <strong>элемент контента</strong>. Обычно под этим подразумевается вложение файлов к статьям. Компонент ВЛОЖЕНИЯ по умолчанию поддерживает 
вложение файлов и ссылок к статьям или категориям. Однако существует 
возможность вложить файлы в другие типы контента (необходимы соответствующие плагины для ВЛОЖЕНИЯ).  Все типы контента, в которые выполняются вложения, будем называть <strong>элементы контента</strong>.</p>
</div>
<p>Расширение ВЛОЖЕНИЯ переведено на многие языки.
См. раздел <a class="reference internal" href="#translations">Переводы</a> чтобы увидеть список
доступных переводов.  Многие из языковых пакетов находятся в процессе обновления 
до версии 3.0.</p>
<p>Если вы хотите подписаться на рассылку обновлений этого расширения, 
 пожалуйста воспользуйтесь страницей:</p>
<ul class="simple">
<li><a class="reference external" href="http://jmcameron.net/attachments/email-list.html">Страница подписки на Email рассылку ( http://jmcameron.net/attachments/email-list.html )</a></li>
</ul>
</div>
<div class="section" id="new-features-in-version-3-0">
<h1><a class="toc-backref" href="#id2">Новые возможности версии 3.0</a></h1>
<ul class="simple">
<li>Полная поддержка системы управления уровнями доступа/видимости (ACL) в Joomla 1.6/1.7+. Данная система
дает вам полный контроль на тем, кто может создавать, редактировать или удалять
вложения.  Более детально см. в разделе <a class="reference internal" href="#attachments-permissions">Разрешения на вложения</a>.</li>
<li>Управление уровнями видимости вложения. Т.е. возможно установить, чтобы некоторые вложения
были видны всем а некоторые видны только пользователям
определенных групп (согласно настройкам уровней доступа).
Более детально см. в разделе <a class="reference internal" href="#access-levels-visibility-control">Управление уровнями доступа/видимости (ALC)</a>.</li>
<li>Расширены опции для скрытия вложений в различном контексте.</li>
</ul>
</div>
<div class="section" id="major-features-of-the-attachments-extension">
<h1><a class="toc-backref" href="#id3">Основные функции расширения ВЛОЖЕНИЯ (Attachments)</a></h1>
<ul>
<li><p class="first">Возможность управления вложениями в режиме редактирования статьи, включая добавление,
редактирование и удаление вложений</p>
</li>
<li><p class="first">Возможность создания вложений в процессе создания статьи.</p>
</li>
<li><p class="first">Все списки вложений на сайте обновляются при помощи AJAX, что не 
требует полной перезагрузки страницы.</p>
</li>
<li><p class="first">Возможность &quot;присоединять&quot; ссылки, так же как и файлы, к элементам контента.</p>
</li>
<li><p class="first">Возможность отображать список вложений в любом месте статьи (или элемента контента).</p>
</li>
<li><dl class="first docutils">
<dt>В админ панели:</dt>
<dd><ul class="first last simple">
<li>Опции для фильтрации вложений к статьям или элементам контента в состояниях "Не опубликовано", 
"В корзине".</li>
<li>Фильтрация списка статей</li>
<li>Сортировка списка вложений по любой колонке при помощи заголовка.</li>
<li>Дополнительные утилиты</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Расширение ВЛОЖЕНИЯ (Attachments) поддерживает &quot;Плагины для ВЛОЖЕНИЯ&quot;.  Дополнительные плагины позволяют 
присоединять файлы к любым элементам контента, которые используют плагин <tt class="docutils literal">onPrepareContent</tt>.
  Например, возможно вложить файлы в описания категорий.
Затратив немного времени разработчик может создать новый плагин для ВЛОЖЕНИЯ,
позволяющий добавлять вложения к контенту типа: персональная информация в Community Builder, 
описания товаров в Virtuemart, и т.д.  Более детально см. в разделе
<a class="reference internal" href="#what-can-files-be-attached-to">Как можно вложить файлы?</a>.</p>
</li>
</ul>
</div>
<div class="section" id="uploading-restrictions">
<h1><a class="toc-backref" href="#id4">Ограничения на загрузку</a></h1>
<p>Не все типы файлов могут быть загружены.  Расширение ВЛОЖЕНИЯ
не разрешит загрузить файлы, которые запрещены в Joomla! Медиа Менеджере.
Чтобы посмотреть (изменить) какие типы файлов разрешены - войдите на страницу
 <strong>Материалы</strong> > <strong>Медиа-менеджер</strong>. Выберите кнопку
<strong>Настройки</strong> на тулбаре и затем вкладку <em>Компонент</em>.  Здесь
указано какие типы файлов и какие MIME типы разрешены для загрузки.
 Расширение ВЛОЖЕНИЯ соблюдает эти ограничения.  Однако
запрет на 'Разрешённые расширения изображений' игнорируется.
 Добавьте необходимые расширения файлов в поле 
&quot;Разрешённые расширения&quot;.  Вожможно также добавить необходимые MIME
типы в поле &quot;Разрешённые типы файлов (MIME)&quot;.</p>
<div class="warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">При добавлении значений в поля &quot;Разрешённые расширения&quot; или &quot;Разрешённые типы файлов (MIME)&quot;
наличие пробелов недопустимо!</p>
</div>
</div>
<div class="section" id="attachments-settings">
<h1><a class="toc-backref" href="#id5">Настройки</a></h1>
<p>Все настройки расширения ВЛОЖЕНИЯ управляются через менеджер компонент.
 Чтобы изменить настройки откройте админ панель,
выберите пункт меню &quot;Компоненты&quot; > &quot;Вложения&quot;.  Нажмите
кнопку &quot;Настройки&quot; справа вверху на панели управления и увидите
параметры расширения, сгруппированные по закладкам.</p>
<div class="section" id="basic-options">
<h2>Основные</h2>
<img alt="Basic Options" class="float-right" src="images/options-basic.png" />
<ul>
<li><p class="first"><strong>Вложения опубликованы по умолчанию:</strong> 
Данный режим автоматической публикации устанавливает  
будут ли опубликованы по умолчанию вновь добавленные вложения.
 При установке 'Да' при добавлении вложения
оно будет опубликовано немедленно и будет видимо пользователям. При
установке 'Нет' новые вложения не будут опубликованы автоматически.
Для публикации вложения администратор или пользователь с необходимым доступом должен 
опубликовать вложение через админ панель,  
чтобы вложение стало доступно на сайте.</p>
</li>
<li><p class="first"><strong>Предупреждение о публикации:</strong> 
Если режим автоматической публикации (см. предыдущий пункт) выключен, возможно вы захотите проинформировать 
пользователей, добавляющих вложения, как им опубликовать свои вложения. 
Здесь вы можете вставить соответствующий текст.
Если поле оставить пустым, будет отображаться стандартное системное сообщение 
предлагающее пользователю связаться с администратором для того что бы его новое вложение было опубликовано.</p>
</li>
<li><p class="first"><strong>Уровень доступа по умолчанию:</strong> 
Уровень доступа по умолчанию для новых вложений. 
Каждое вложение имеет уровень доступа, который определяет кто может видеть или 
скачивать вложение. При создании вложения ему устанавливается уровень доступа 
по умолчанию (в случае, если автор принадлежит соотвествующим группам). 
Администратор сайта или пользователь с соответстующим доступом могут изменять 
установленные уровни доступа вложений для определения, кто может видеть 
определенные вложения.</p>
</li>
<li><p class="first"><strong>Имя поле 1-3:</strong> 
В случае необходимости добавить 
дополнительную информацию о вложении компонент ВЛОЖЕНИЯ позволяет определить до 3-х 
дополнительных 
полей. Чтобы создать новое дополнительное поле введите его имя 
в одну из трех областей ввода.
Очистите область ввода имени чтобы отключить редактирование и отображение этого поля.
Поля, определенные пользователем, будут отображаться в том же порядке, что и здесь.
Максимальная длина имени каждого поля ограничена 40 символами.
Длина данных в каждом пользовательском поле не должна превышать 100 символов.</p>


Максимальная длина каждого имени поля 40 символов.  Длина данных в этих полях до 255 символов. 


<div class="hint">
<p class="first admonition-title">Совет</p>
<p class="last">Добавление знака '*' в конце имени поля приводит к скрытию поля на сайте.
Имя будет отображаться только в режиме редактирования вложения на сайте и всегда 
в админ панели. Данная возможность позволяет сортировать вложения в необходимом порядке 
путем помещения в это поле целых чисел.</p>
</div>
</li>
<li><p class="first"><strong>Максимальная длина имени файла или ссылки:</strong>
Максимальная длина имени файла или ссылки в списке вложения.  Имена файла или ссылки длиннее
установленного ограничения будут усечены и помещены в колонку &quot;Display Filename / URL&quot; 
(только для отображения, реальное имя файла или ссылка останутся без изменения).  
Значение 0 означает отсутствие ограничений на длину за исключением ограничения бызы данных, 
которое состовляет 80 символов.  Примечание: эта опция воздействует 
только на имена вложений, добавленных после установки этой опции.</p>
</li>
<li><p class="first"><strong>Куда поместить вложения:</strong> 
Данная опция управляет
расположением вложения в определенном месте элемента контента.
Имеются следующие режимы:</p>
<blockquote>
<ul>
<li><p class="first">'<em>В начале</em>'</p>
</li>
<li><p class="first">'<em>В конце</em>'</p>
</li>
<li><p class="first">'<em>Пользовательское расположение</em>' - в данном режиме список вложений будет
расположен в месте элемента контента, где будет помещен тег: {attachments}.</p>
<div class="warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">В пользовательском режиме для любого элемента контента, в котором нет необходимого тега,
список вложений будет размещен в его конце.</p>
</div>
<p>При редактировании в админ панели будет отображаться дополнительная кнопка: 
[Признак вложения {attachments}].
       Выберите позицию, где вы хотите разместить признак вложения и используйте эту кнопку
       для вставки признака. Данная функция добавляет дополнительный HTML
       код для скрытия самого признака вложения в случае, когда он не замещен вложением (например случай,
       когда вложение не должно отображаться пользователю). HTML код, добавляемый вокруг признака,
       имеет следующий вид:</p>
<pre class="literal-block">
&lt;span class=&quot;hide&quot;&gt;{attachments}&lt;/span&gt;
</pre>
<p>При редактировании в админ панели в тексте будет отображаться тег {attachments} а не 
       HTML код 'span' за исключением отображения HTML кода. На сайте вы
       никогда не увидите тег {attachments} за исключением случая, когда плагин insert_attachments_tag
       выключен. Для удаления признака вложения {attachments} необходимо использовать
       режим отображения &quot;HTML&quot; кода чтобы вместе с признаком вложения удалить и окружающий его HTML код.</p>
<div class="warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">Режим 'Пользовательское расположение' не работает для вложений в описания категорий.</p>
</div>
</li>
<li><p class="first">'<em>Неактивный (фильтр)</em>' - данный режим запрещает отображение
списка вложений и подавляет отображение любого тега {attachments},
расположенного в элементе контента.</p>
</li>
<li><p class="first">'<em>Неактивный (без фильтра)</em>' - данный режим запрещает отображение
списка вложений и НЕ подавляет отображение любого тега {attachments},
расположенного в элементе контента.</p>
</li>
</ul>
</blockquote>
</li>
<li><p class="first"><strong>Доступно редактирование с фронта для уровня доступа:</strong>
Позволяет установить уровень доступа с фронта ко вложению при 
его создании или редактировании. 'Уровень доступа' 
устанавливает какие группы могут видеть (редактировать) вложение. 
ВАЖНО: вложение невозможно редактировать пока для него не будет установлен соответстующий уровень доступа.</p>
</li>
</ul>
</div>
<div class="section" id="formatting-options">
<h2>Форматирование</h2>
<img alt="Formatting Options" class="float-right" src="images/options-formatting.png" />
<ul>
<li><p class="first"><strong>Показать заголовки:</strong> 
Установка 'Да' добавляет строку над списком файлов вложения, описывающую содержания колонок.</p>
</li>
<li><p class="first"><strong>Показать описание вложения:</strong> 
Определяется будет ли показано описание для каждого вложения в списке.</p>
</li>
<li><p class="first"><strong>Показать автора вложения:</strong> 
Показать логин пользователя, создавшего (загрузившего) вложение.</p>
</li>
<li><p class="first"><strong>Показать размер файла вложения:</strong> 
Определяется будет ли показан размер каждого файла вложения в списке.</p>
</li>
<li><p class="first"><strong>Показать количество скачиваний:</strong> 
Показать количество скачиваний в списке вложений.</p>
<div class="warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">  ВНИМАНИЕ: Эта опция работает только при ограниченном доступе!
В обычном режиме файлы вложений обрабатываются как статические файлы и доступ к ним
 осуществляется напрямую без прохождения через код Joomla!
 Поэтому невозможно подсчитать количество скачиваний файла.
Таким образом эта опция будет работать только если уставлено значение 'Да'
здесь и включен режим 'Ограниченный доступ скачивания'.</p>
</div>
</li>
<li><p class="first"><strong>Показать дату изменения файла:</strong> 
Если опция установлена 'Да', тогда в списке вложений появится дата модификации каждого файла. 
Если 'Нет', дата модификации не будет отображена.</p>
</li>
<li><p class="first"><strong>Формат представления даты:</strong> 
Вы можете указать формат отображения времени модификации используя тот же формат,
что и в функции PHP strftime(). Примеры можно найти в интернете по запросу
'PHP strftime'.  По умолчанию формат установлен (%x %H:%M), что дает
24 часовой формат вида: 4/28/2008 14:21.  Для удаления времени удалите 
символы "%H:%M". Учтите что реализации PHP под Windows и Linux системами могут отличаться.</p>
</li>
<li><p class="first"><strong>Порядок файлов вложения:</strong> 
Опция позволять выбрать порядок расположения файлов в списке вложения.
  Большинство опций очевидны:</p>
<ol class="arabic simple">
<li>'<em>Имя файла</em>' - в данном режиме файлы вложения расположены в алфавитном порядке имен файлов.</li>
<li>'<em>Размер файла (наименьший первый)</em>'</li>
<li>'<em>Размер файла (наибольший первый)</em>'</li>
<li>'<em>Описание</em>'</li>
<li>'<em>Показать имя файла или ссылку</em>' - Все вложения, у которых имена файлов отображаются пустыми,
будут расположены выше файлов, у которых имена файлов отображаются и расположены в алфавитном порядке имен файлов.</li>
<li>'<em>Автор</em>' - сортировка по имени пользователя, загрузившего вложение.</li>
<li>'<em>Дата создания (старейший первый)</em>'</li>
<li>'<em>Дата создания (новейший первый)</em>'</li>
<li>'<em>Дата изменения (старейший первый)</em>'</li>
<li>'<em>Дата изменения (новейший первый)</em>'</li>
<li>'<em>ID вложения</em>' - в данном режиме
файлы вложения расположены в порядке увеличения ID файла вложения.  Данная сортировка
аналогична сортировке 'Дата создания (старейший первый)'.</li>
<li>'<em>Поле 1</em>'</li>
<li>'<em>Поле 2</em>'</li>
<li>'<em>Поле 3</em>'</li>
</ol>
</li>
</ul>
</div>
<div class="section" id="visibility-options">
<h2>Видимость</h2>
<p>Опции управляют отображением вложений на сайте,
при условии что пользователь принадлежит группе, для которой вложения видимы.</p>
<img alt="Visibility Options" class="float-right" src="images/options-visibility.png" />
<ul class="simple">
<li><strong>Скрыть вложения на главной странице:</strong> Скрываются все 
вложения на главной странице.</li>
<li><strong>Скрыть вложения перед ссылкой-разделителем 'Читать далее':</strong> 
Скрываются вложения статей, имеющих ссылку-разделитель 'Читать далее'. В случае полного отображения (после нажатия на 'Читать далее') вложения будут отображены.</li>
<li><strong>Скрыть вложения на блог-страницах:</strong> 
Скрываются вложения для страниц (пунктов меню) с шаблоном блог.</li>
<li><strong>Скрыть вложения кроме статей:</strong> 
Скрываются вложения для всех страниц кроме отдельных статей.</li>
<li><strong>Всегда показывать вложения при отображении категорий:</strong> 
Вложения отображаются всегда при отображении категорий -- не зависит от других опций.</li>
<li><strong>Скрыть вложения для категорий:</strong> 
Скрыть вложения для всех категорий кроме некоторых. 
Отметим, что вложения будут отражены для дочерних категорий, хотя они будут выделены вместе с их родителем.</li>
</ul>
<div class="small-figure figure">
<img alt="Hide Categories Selection" src="images/options-hide-categories.png" />
<p class="caption">Для выделения/отмены отдельных категорий удерживайте клавишу Control при выделении категории мышью. 
На рисунке выделена только одна категория.</p>
</div>
<ul class="simple">
<li><strong>Скрыть ссылку 'Добавить вложения':</strong> 
Ссылка 'Добавить вложения' всегда скрыта на сайте. 
В этом возникает необходимость в случае добавления вложения к статье или другому родителю, 
в случае их редактирования с фронта (тогда кнопка 'Добавить вложения' доступна под полем редактирования).</li>
</ul>
</div>
<div class="section" id="advanced-options">
<h2>Дополнительно</h2>
<img alt="Advanced Options" class="float-right" src="images/options-advanced.png" />
<ul>
<li><p class="first"><strong>Символы, запрещенные к загрузке:</strong> 
Имена файлов, содержащие указанные символы, запрещены к загрузке. 
Т.к. эти символы имеют проблемы при отображении имен файлов вложений в обычном режиме, 
то они запрещены к использованию. Обычно  с этими символами не 
возникает проблем в режиме ограниченного доступа до тех пор, пока имя файла 
не используется как часть ссылки.</p>
</li>
<li><p class="first"><strong>CSS стиль для таблицы вложений:</strong> 
Для замены CSS стиля таблицы вложений введите имя стиля. 
Стиль по умолчанию 'attachmentsList'.  См. файл attachments.css file. Более детально см. в разделе 
<a class="reference internal" href="#css-styling-of-attachment-lists">CSS стили списка вложений</a>.</p>
</li>
<li><p class="first"><strong>Режим открытия ссылки:</strong>
Определяется как открывается ссылка на файл.  'В том же окне' 
означает что ссылка будет открыта в том же окне браузера.  'В новом окне' 
- ссылка будет открыта в новом окне (закладке).</p>
</li>
<li><p class="first"><strong>Заголовок пользователя для списка вложений:</strong> 
По умолчанию расширение ВЛОЖЕНИЯ (Attachments) вставляет заголовок 'Вложения' 
над списком вложений для каждой статьи или элемента контента (который имеет вложение). Иногда 
необходимо использовать другой заголовок для определенных статей или элементов контента. Для 
переименования заголовока для определенной статьи необходимо использовать следующий формат. 
Например, если для статьи 211 (ID) необходим новый заголовок &quot;Новый заголовок:&quot;,
необходимо в поле добавить строку '211 Новый заголовок' (без кавычек). 
Одна строка -- один заголовок. Для других типов контента используется формат: 
'category:23 Заголовок для категории 23'. Например для статьи, упомянутой выше, 
должна быть строка вида 'article:211 Новый заголовок'. Возможен 
пропуск ID для изменения заголовка по умолчанию для всех вложений всех статей. 
Хорошей практикой является вначале глобальное изменение общего заголовка в первой линии и 
затем изменение необходимых заголовков.</p>
<p>Примечание: для изменения глобального заголовка возможно отредактировать 
файл перевода. Вхождение 'ATTACHMENTS TITLE' находится в файле перевода:</p>
<pre class="literal-block">
administrator/language/qq-QQ/qq-QQ.plg_frontend_attachments.ini
</pre>
<p>где qq-QQ является инфобозначением кода языка, например en-GB для английского или ru-RU для русского языка.
(Если вы не знакомы с файлами перевода Joomla!, то просто найдите строку, содержащую
'ATTACHMENTS TITLE' в левой части перед знаком '=', напишите то что вы считаете нужным для отображения 
в правой части после знака '=' и ничего не меняйте в левой).</p>
</li>
<li><p class="first"><strong>Время ожидания ответа:</strong>
Время ожидания ответа при проверке ссылки (секунд).  В случае добавления ссылки как 
вложения она проверяется (возможно отключение проверки в форме). 
Если доступ по ссылке получен ранее установленного времени ожидания, 
определяются размер файла и другая информация о ссылке, если нет, 
используется общая информация.  Установить 0 для отключения функции.</p>
</li>
<li><p class="first"><strong>Совмещение иконок ссылки и файла:</strong>
Совмещение иконки ссылки и иконки файла вложения чтобы отобразить ссылку. 
Корректные ссылки отображаются со стрелкой, некорректные - перечеркнуты красной линией (от низ-слева до верх-справа).</p>
</li>
<li><p class="first"><strong>Удаление устаревших вложений (админ панель):</strong>
Установка по умолчанию для удаления <em>устаревших</em> вложений из админ панели. 
В данном случае <em>устаревшими</em> считаются вложения к элементам контента в состояниях "Не опубликовано", 
"В корзине". Возможно переопределить эту установку выбрав 'Показать вложения для' из выпадающего меню справа над списком вложений 
(в одной строке с фильтром). Выбранная опция отображения вложений будет сохранена до тех пор, пока администратор 
не выйдет из админ панели. Поэтому изменение этого параметра может не подействовать сразу. 
Данная установка вступит в силу при последующем входе как администратор.</p>
</li>
</ul>
</div>
<div class="section" id="security-options">
<h2>Безопасность</h2>
<img alt="Security Options" class="float-right" src="images/options-security.png" />
<ul>
<li><p class="first"><strong>Ограниченный доступ:</strong>
По умолчанию расширение ВЛОЖЕНИЯ (Attachments) сохраняет файлы вложений в 
общедоступном каталоге. При <em>ограниченном доступе</em> каталог, 
в котором будут сохраняться вложения, не является общедоступным. 
Ссылки на скачивание вложений с сайта позволяют скачивать 
вложения, однако это не прямые ссылки. Это предотвращает доступ 
пользователей, не имеющих достаточных прав. Если <em>ограниченный доступ</em> не 
выбран, ссылки к вложениям отображаются так, как они введены. Как результат, 
вложения доступны любому посетителю сайта, который знает полную ссылку на вложение, 
т.к. вложения находятся в общедоступном каталоге. <em>Ограниченный доступ</em> предотвращает 
доступ пользователям, не имеющим достаточных прав, даже если известна полная 
ссылка, т.к. нет доступа в каталог вложений. В режиме <em>ограниченного доступа</em> 
опция &quot;Who can see&quot; возможно установить в значение 'Все', 
что позволит всем пользователям видеть и скачивать вложения.</p>
<div class="hint">
<p class="first admonition-title">Совет</p>
<p class="last">Если существуют проблемы с именами файлов в Unicode кодировке, возможно 
выбрать опцию 'Да' для <strong>Ограниченный доступ</strong> (особенно на Windows серверах).</p>
</div>
</li>
<li><p class="first"><strong>Режим ограниченного доступа:</strong>
Позволяет скачивать вложения как отдельные файлы или отображать их 
в браузере (если браузер поддерживает такой тип файла). 
Существуют следующие опции:</p>
<blockquote>
<ul>
<li><dl class="first docutils">
<dt><em>'inline'</em> - в данном режиме все файлы, которые возможно, будут отображены в браузере (как текстовые или файлы изображений).</dt>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>'Вложение'</em> - в данном режиме (по умолчанию) файлы можно скачивать как отдельные файлы.</dt>
</dl>
</li>
</ul>
</blockquote>
<p>В любом случае файлы, не отображаемые в браузере, могут быть скачаны как внешние файлы.</p>
</li>
</ul>
</div>
<div class="section" id="permissions-options">
<h2>Права</h2>
<p>Опции по разделению прав будут рассмотрены в следующем разделе <a class="reference internal" href="#attachments-permissions">Разрешения на вложения</a>.</p>
</div>
</div>
<div class="section" id="attachments-permissions">
<h1><a class="toc-backref" href="#id6">Разрешения на вложения</a></h1>
<p>Расширение ВЛОЖЕНИЯ (Attachments) использует все преимущества новой системы 
разрешений (ACL), которая внедрена в Joomla! 1.6. Это позволяет настраивать использование 
вложений на сайте более точно. Возможна отдельная настройка, кто может создавать, 
редактировать и удалять вложения, а также управление вложениями.</p>
<p>Перед описанием системы разрешений (ACL), используемой во ВЛОЖЕНИИ, важно 
понимать несколько принципов:</p>
<div class="important">
<p class="first admonition-title">ВАЖНО</p>
<p class="last">Все вложения, присоединяются к родительской статье, категории или другому 
элементу контента. Создание, редактирование, удаление или изменение состояния 
вложения выполняется через форму редактирования родительского элемента контента. 
Следовательно, пользователь должен иметь права на редактирование родительского элемента контента 
для возможности настройки соответствующего вложения.</p>
</div>
<p>Для изменения прав доступа различных групп пользователей необходимо войти в админ панель 
и выбрать пункт &quot;Вложения&quot; в меню &quot;Компоненты&quot;. Нажать 
кнопку &quot;Настройки&quot; на тулбаре (правый верхний угол) и выбрать 
закладку 'Права'. Представлены следующие пункты:</p>
<div class="figure">
<img alt="Permission Options" src="images/options-permissions.png" />
<p class="caption">Опции прав доступа к вложениям. Показаны права доступа для общей (Public) группы пользователей.</p>
</div>
<p>Краткое описание прав доступа, связанных с доступом ко вложениям:</p>
<table border="1" class="permissions docutils">
<colgroup>
<col width="26%" />
<col width="57%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Разрешение</th>
<th class="head">Описание / Замечания</th>
<th class="head">ACL действие</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Настройка ВЛОЖЕНИЯ</td>
<td>Возможно изменять общие настройки ВЛОЖЕНИЯ.</td>
<td>core.admin</td>
</tr>
<tr><td>Доступ к ВЛОЖЕНИЯ</td>
<td>Возможен доступ к расширению ВЛОЖЕНИЯ в админ панели</td>
<td>core.manage</td>
</tr>
<tr><td>Создавать вложения</td>
<td>Можно создавать вложения (если возможно редактировать родитель).</td>
<td>core.create</td>
</tr>
<tr><td>Удалять вложения</td>
<td>Можно удалять любые вложения (если возможно редактировать родитель).</td>
<td>core.delete</td>
</tr>
<tr><td>Редактировать вложения</td>
<td>Можно редактировать любые вложения (если возможно редактировать родитель).</td>
<td>core.edit</td>
</tr>
<tr><td>Редактировать состояние вложения</td>
<td>Можно изменять состояние любого вложения (если возможно редактировать родитель).</td>
<td>core.edit.state</td>
</tr>
<tr><td>Редактировать вложения автора</td>
<td>Можно изменять только собственные вложения (если возможно редактировать родитель).</td>
<td>core.edit.own</td>
</tr>
<tr><td>Редактировать состояние вложения автора</td>
<td>Можно изменять состояние только собственных вложений (если возможно редактировать родитель).</td>
<td>attachments.edit.state.own</td>
</tr>
<tr><td>Удалять вложения автора</td>
<td>Можно удалять только собственные вложения (если возможно редактировать родитель).</td>
<td>attachments.delete.own</td>
</tr>
<tr><td>Редактировать вложения к статьям/родителям автора</td>
<td>Можно редактировать любое вложение к собственным статьям/родителям (если возможно редактировать родитель).</td>
<td>attachments.edit.ownparent</td>
</tr>
<tr><td>Редактировать состояние вложения к статьям/родителям автора</td>
<td>Можно редактировать состояние любого вложения к собственным статьям/родителям (если возможно редактировать родитель).</td>
<td>attachments.edit.state.ownparent</td>
</tr>
<tr><td>Удалять вложения к статьям/родителям автора</td>
<td>Можно удалять любое вложение к собственным статьям/родителям (если возможно редактировать родитель).</td>
<td>attachments.delete.ownparent</td>
</tr>
</tbody>
</table>
<div class="section" id="default-permissions">
<h2>Права по умолчанию</h2>
<p>Сразу после установки расширения ВЛОЖЕНИЯ установлены следующие права:</p>
<div class="hide-title important">
<p class="first admonition-title">Important</p>
<p><strong>Начальные настройки прав доступа</strong></p>
<ul class="last simple">
<li>Authors (и Managers) или выше могут создавать вложения к любой статье/родителю, который они могут редактировать</li>
<li>Authors (и Managers) или выше могут редактировать или удалять любые вложения к любой статье/родителю, который они могут редактировать</li>
<li>Editors (и Managers) или выше могут публиковать/снимать с публикации вложения с фронта сайта.</li>
<li>Authors не могут публиковать собственные вложения.</li>
</ul>
</div>
<p>Если необходимы другие умолчания, необходимо изменить соответствующие права доступа при помощи 
закладки &quot;Права&quot; кнопка &quot;Настройки&quot;.</p>
</div>
<div class="section" id="permissions-settings-for-common-scenarios">
<h2>Настройки прав доступа для обычных сценариев</h2>
<p>Далее приведено несколько предложений по установке прав доступа для достижения необходимого результата:</p>
<blockquote>
<ul>
<li><p class="first"><strong>Сценарий 1 - Авторы могут публиковать собственные вложения</strong></p>
<blockquote>
<ul>
<li><p class="first">На закладке ПРАВА выбрать вхождение 'Author'. Выбрать пункт 
'Редактировать состояние собственного вложения', установить 'Разрешено' и нажать 
'Сохранить' для проверки изменений.</p>
<div class="figure">
<img alt="Permissions setting for scenario1" src="images/permissions-scenario1.png" />
</div>
</li>
</ul>
</blockquote>
</li>
<li><p class="first"><strong>Сценарий 2 - Авторы могут редактировать/удалять только собственные вложения</strong></p>
<blockquote>
<ul>
<li><p class="first">На закладке ПРАВА выбрать вхождение 'Author'. Выбрать пункты 
'Редактировать состояние вложений собственных статей/родителей' и 
'Удалить вложения собственных статей/родителей' и установить 'Запрещено' для обоих.
Нажать 'Сохранить' для проверки изменений</p>
<div class="figure">
<img alt="Permissions setting for scenario2" src="images/permissions-scenario2.png" />
</div>
<p>После изменения прав доступа Author все еще имеет права доступа на редактирование/удаление 
собственных вложений но уже не может редактировать/удалять вложения 
других авторов, даже если есть права на редактирование статьи.</p>
<p>Отметим, что все пользователи групп, находящихся выше Author (т.е., Editor, Publisher,
и т.д.) также не смогут редактировать или удалять вложения к 
статьям/родителям, авторами которых они не являются (на основании установленного права доступа). 
Однако, т.к. они имеют более высокие уровни доступа 'Редактировать вложение' и 
'Удалить вложение', то они могут редактировать или 
удалять любые вложения к любым статьям, которые они могут редактировать 
(в предположении что остальные их правa доступа остались без изменения).</p>
</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
<p>Если вы используете какие-либо другие сценарии и вы можете их описать, пожалуйста 
свяжитесь с разработчиком и они будут включены в эту документацию (контакты см. в конце документа).</p>
</div>
<div class="section" id="other-notes-on-permissions">
<h2>Дополнительные замечания о правах доступа</h2>
<blockquote>
<ul class="simple">
<li>Если пользователь имеет права на редактирование состояния своих вложений, то 
их можно увидеть даже при установе опции 'Опубликовано: Yes/No' на форме добавления/редактировани 
вложений в положение 'No'. После сохранении вложения, вложения 
все еще будут видимы пользователю на сайте (пока он не покинул сайт (log out)).
Никто больше не может видеть неопубликованные вложения на сайте.  Если 
пользователь изменил состояние 'Опубликовано: Yes/No' на 'No', то все еше существует возможность 
редактировать вложение (даже если оно серым цветом) и изменять его состояния.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="access-levels-visibility-control">
<h1><a class="toc-backref" href="#id7">Управление уровнями доступа/видимости (ALC)</a></h1>
<p>Расширение ВЛОЖЕНИЯ (Attachments) теперь поддерживает 'Уровни доступа' Joomla. Каждому 
вложению может быть назначен определенный уровень доступа, такой как 'Public',
'Registered', и 'Special', а таже любые другие уровни доступа, созданные на сайте.
  Существует два базовых уровня:</p>
<blockquote>
<ul class="simple">
<li><strong>'Public'</strong> - Любой посетитель сайта может видеть и скачивать 
вложения с установленным уровнем доступа в 'Public' если статья/родитель отображается 
и нет других настроек ВЛОЖЕНИЯ, ограничивающих отображение вложения.</li>
<li><strong>'Registered'</strong> - Любой пользователь, залогинившийся на сайте, 
может видеть и скачивать вложения с установленным уровнем доступа 'Registered' если 
статья/родитель отображается и нет других настроек ВЛОЖЕНИЯ, ограничивающих отображение 
вложения.</li>
</ul>
</blockquote>
<p>Возможности, предоставляемые другими уровнями доступа, зависят от групп пользователей, асоциированных 
с этими уровнями.</p>
<p>Возможность установки уровня доступа для отдельных вложений дает 
полный контроль над тем, кто может видеть и скачивать вложения.</p>
<div class="note">
<p class="first admonition-title">Замечание</p>
<p class="last">Предположим на сайте был создан новый уровень доступа. Пользователи не являются 
членами групп, которые связаны с новым уровнем доступа, и следовательно, 
не могут установить соответствующий уровень доступа для своих вложений.  Если вы отредактируете 
вложение как Super User, вы можете столкнуться с тем, что новый уровень доступа 
не отображается среди предлагаемых уровней доступа.  Существует два 
возможных пути решения.  (1) Если вы только сейчас создали новый уровень доступа, вам 
необходимо покинуть админ панель (log out) и опять войти чтобы изменения вошли в силу . 
 (2) Другая причина это то, что пользователь (Super User например) 
 не имеет необходимого уровня доступа.  Решение простое, проверить чтобы пользователь 
принадлежал одной из групп, связанных с новым уровнем доступа.</p>
</div>
</div>
<div class="section" id="display-filename-or-url">
<h1><a class="toc-backref" href="#id8">Отображение имен файлов или ссылок</a></h1>
<p>Обычно, когда файлы загружены (или ссылки добавлены) и отображаются в списке
вложений, полное имя файла (или ссылка) используется как ссылка для
скачивания вложения.  В некоторых случаях имена файлов (или ссылок) могут быть слишком
длинными.  В форме загрузки файла есть специальное поле &quot;Показать
имя файла/ссылку&quot; в котором возможно указать имя файла (ссылки) или метку,
которые будут отображаться вместо полного имени файла (или ссылки).
 Например здесь может быть указана аббревиатура имени файла.
 Это поле может быть изменено через админ панель при редактировании вложения.
 Замечание: Среди опций разширения опция &quot;Максимальная длина имени файла или ссылки&quot;. 
 Она может автоматически обрезать имя файла и записывать его в поле
&quot;Показать имя файла/ссылку:&quot;.</p>
</div>
<div class="section" id="attaching-urls">
<h1><a class="toc-backref" href="#id9">Вложение ссылок</a></h1>
<p>Кроме файлов ВЛОЖЕНИЯ (Attachments) 3.0 имеет возможность &quot;присоединять&quot; ссылки 
к элементам контента. При открытии формы &quot;Добавить вложение&quot; можно 
увидеть кнопку &quot;Введите ссылку вместо&quot;.  Нажатие на нее позволит 
вам перейти в режим ввода ссылки с двумя опциями:</p>
<ul>
<li><dl class="first docutils">
<dt><strong>Проверить существование ссылки?</strong> - при выборе опции происходит определение типа файла</dt>
<dd><p class="first last">(определение соответствующей иконки), запрашивается информация о файле с сервера
- тип файла и его размер.  Иногда сервер не отвечает на запросы даже при указании правильной ссылки.
По умолчанию расширение ВЛОЖЕНИЯ считает ссылку неправильной пока обратное не будет
подтверждено сервером.  В случае если вы уверены, что ссылка правильная,
необходимо снять отметку с данной опции. Тогда данная ссылка будет считаться правильной
но это не гарантирует того, что тип файла или его размер
будут совпадать с реальными.  Заметим, что запрос с сервера будет выполняться независимо от того,
выбрана данная опция или нет.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Относительная ссылка?</strong> - Обычно ссылка вводится в виде 'http...' для</dt>
<dd><p class="first last">указания полного пути к файлу.  Если есть необходимость указывать относительный
путь к файлам/командам сайта используйте данную опцию.</p>
</dd>
</dl>
</li>
</ul>
<p>Ссылки на файлы показаны соответствующими иконками со стрелкой
(что указывает на корректную ссылку) или перечеркнуты красной диагональной линией (что указывает
на некорректную ссылку).  При редактировании ссылки ее правильность возможно определить
по возникающим отметкам (стрелки или красная линия).  Отметим что эти отметки могут
не отображаться при установке режима 'Нет' опции настроек <strong>Совмещение иконок ссылки и файла</strong>.
 В расширение встроено несколько утилит, связанных с обработкой ссылок (и файлов)
и доступных в админ панели через кнопку &quot;Утилиты&quot; панели управления расширения.</p>
</div>
<div class="section" id="what-can-files-be-attached-to">
<h1><a class="toc-backref" href="#id10">Как можно вложить файлы?</a></h1>
<p>Кроме возможности присоединять файлы или ссылки к статьям, сущестует возможность
присоединять файлы или ссылки к другим элементам контента, таким как Категории
(см. ниже).  Если установлены и активны соответствующие плагины расширения ВЛОЖЕНИЯ,
 тогда возможно присоединять файлы или ссылки к таким элементам контента как
информация о пользователе, описание товара в интернет-магазине и т.д.
 В сущности, любой контент, который отображается на сайте
и в котором возможно происхождение события <tt class="docutils literal">'onPrepareContent'</tt>, может быть
родителем вложения (при установке соответствующего плагина к расширению ВЛОЖЕНИЯ).  Контент
сайта, вызывающий события, обычно содержит информацию для отображения
(статьи) или имеет описание, которое также должно быть отображено на сайте.</p>
<div class="section" id="attaching-files-or-urls-to-category-descriptions">
<h2>Вложение файлов или ссылок к описаниям категорий</h2>
<p>В этой версии пользователи могут присоединять файлы или ссылки к описанию категории. 
 Обычно эти описания отображаются на страницах категорий в режиме блога. 
Вложения можно добавлять к описанию категории в редакторе категорий.</p>
<div class="warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">Вложения к категориям можно добавить только в случае, когда параметр 
'Описание' установлен в режим <em>Показать</em> (см. меню 'Меню') и описание категории не пустое.</p>
</div>
<p>Если вы хотите узнать больше о разработке плагинов для расширения ВЛОЖЕНИЯ, документация 
доступна по данной ссылке как часть инсталляционного пакета расширения ВЛОЖЕНИЯ:</p>
<ul class="simple">
<li><a class="reference external" href="plugin_manual/html/index.html">Документация по разработке плагинов для расширения ВЛОЖЕНИЯ</a></li>
</ul>
<div class="warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">Документация по разработке плагинов для расширения ВЛОЖЕНИЯ еще не обноблена до версии 3.0. 
 Существует несколько изменений в архитектуре что означает, 
что плагины для ВЛОЖЕНИЯ в Joomla 1.6/1.7+ имеют значительные отличия 
от таких же плагинов для Joomla 1.5.</p>
</div>
</div>
</div>
<div class="section" id="css-styling-of-attachment-lists">
<h1><a class="toc-backref" href="#id11">CSS стили списка вложений</a></h1>
<p>Список вложений на сайте строится при помощи специального тега 'div', который
содержит таблицы для вложений. Таблица имеет несколько разных CSS классов, связанных с ней, чтобы
дать разработчику сайта возможность изменять внешний вид таблицы. 
Посмотрите CSS файл в плагине вложения (plugins/content/attachments.css) для примера.
Если вы хотите сменить стиль, скопируйте оригинальные стили в конец файла и переименуйте 
скопированную секцию 'attachmentsList' дав ей новое название. Откройте настройки компонента ВЛОЖЕНИЯ (Компоненты > Вложения)
и измените <em>CSS стиль для таблицы вложений</em> на новое название класса. 
Далeе соответствующим образом измените определения класса в новой секции файла стилей. 
Такой подход позволит легко вернуться к первоначальному стилю, просто изменив параметр 
<em>CSS стиль для таблицы вложений</em> на значение по умолчанию 'attachmentsList'.
Кроме того секция с изменненым стилем может быть легко скопирована в отдельный файл 
и затем легко добавлена заново, когда вы перейдете на новую версию расширения. 
Это можно сделать командой CSS @import.</p>
</div>
<div class="section" id="file-type-icons">
<h1><a class="toc-backref" href="#id12">Иконки типов файлов</a></h1>
<p>Расширение ВЛОЖЕНИЯ отображает иконку
перед каждым вложением в списке вложений. Если необходимо добавить новый тип иконки
следуйте указанным шагам:</p>
<ol class="arabic simple">
<li>Добавьте соответствующую иконку в каталог 'media/attachments/icons' если ее там нет;</li>
<li>Отредактируйте файл 'components/com_attachments/file_types.php'
добавив соответствующую строку в статический массив $attachments_icon_from_file_extension,
который связывает расширение файла с именем файла иконки (в каталоге media/attachments/icons).
Если это не сработало - значит еще необходимо добавить соответствующую строку в массив 
$attachments_icon_from_mime_type;</li>
<li>Не забудьте сохранить ваши файлы иконок и измененный
файл file_types.php, перед тем как обновлять версию расширения.</li>
</ol>
</div>
<div class="section" id="administrative-utility-commands">
<h1><a class="toc-backref" href="#id13">Утилиты</a></h1>
<p>Компонент имеет несколько утилит для выполнения их в админ панели, и которые доступны  
администратору:</p>
<ul>
<li><p class="first"><strong>Запретить удаление таблицы вложений MySQL:</strong> 
Для обновления компонента ВЛОЖЕНИЯ (Attachments) без потери существующих вложений нажмите для запрета удаления таблицы вложений MySQL. Кроме того, необходимо сохранить существующий каталог для загрузки файлов (обычно 'attachments')

Обычно когда удаляется расширение ВЛОЖЕНИЯ 
(Attachments), таблица базы данных, хранящая информацю о вложениях, также 
удаляется. Если необходимо сохранить эти данные при удалени 
расширения ВЛОЖЕНИЯ, выполните данную утилиту. После удаления 
расширения ВЛОЖЕНИЯ (Attachments) таблица с данными о вложениях сохранится.</p>
</li>
<li><p class="first"><strong>Переустановить уровни доступа по умолчанию или уровни доступа вложений:</strong> При 
установке расширения ВЛОЖЕНИЯ (Attachments) инсталлятор добавляет несколько уровней доступа, 
которые расширяют стандартные уровни доступа и позволяют осуществлять доступ к вложениям 
и управлять ими. При переинсталляции или 
обновлении Joomla эти уровни доступа могут быть потеряны. Для восстановления уровней доступа 
расширения ВЛОЖЕНИЯ выполните данную утилиту.</p>
</li>
<li><p class="first"><strong>Восстановление имен файлов вложения:</strong> Данная утилита необходима 
при переносе (миграции) ваших вложений с одного сервера на другой.  Полный 
путь к каждому файлу вложения сохраняется в базе данных и называется &quot;system
filename&quot;. При перемещении вложений из одной ОС на другую информация о 
пути к вложениям обычно становится ошибочной. При выполнении данной утилиты 
проверяются и обновляются все пути ко всем файлам вложений.</p>
<p>Данная утилита хорошо работает при переносе вложений 
с windows сервера на Linux сервер. Она также работает при переносе с Linux на 
Windows сервер но с учетом двух потенциальных проблем:</p>
<blockquote>
<ul class="simple">
<li>При копировании файлов на Windows сервер необходимо проверить 
каталог вложений (обычно 'attachments') и все файлы в нем 
должны быть доступны для перезаписи Joomla сервером.</li>
<li>Возможны проблемы при переносе файлов, имеющих Unicode символы в 
их именах файлов т.к. программы архивирования/разархивирования не работают 
корректно с именами файлов, содержащих Unicode символы (на Windows сервере). Возможно придется 
сохранить эти файлы отдельно, удалить соответствующие вложения и затем их создать вновь.</li>
</ul>
</blockquote>
</li>
<li><p class="first"><strong>Удаление пробелов из имен файлов:</strong> Данная утилита используется для замены 
всех пробелов на подчеркивания в именах файлов всех вложений.  Это 
может понадобиться на некоторых системах. В режиме ограниченного доступа в этом нет необходимости.</p>
</li>
<li><p class="first"><strong>Обновить размер файлов вложения:</strong> Данная утилита пересчитывает размер 
всех файлов всех вложений.</p>
</li>
<li><p class="first"><strong>Проверить существование присоединенных файлов:</strong> Данная утилита может использоваться для 
проверки существования файлов всех вложений. Отсутствующие файлы будут выведены.</p>
</li>
<li><p class="first"><strong>Проверка ссылок:</strong> Расширение ВЛОЖЕНИЯ (attachments) сохраняет информацию о корректности 
введенных ссылок. Данная утилита позволяет проверить ссылку каждого вложения, ее корректность 
и обновить информацию о корректности для вложений.</p>
</li>
</ul>
<div class="note">
<p class="first admonition-title">Примечание</p>
<p class="last">В админ панели иногда при выполнении некоторых утилит можно 
получить предупреждающее сообщение о повторном запросе к серверу. Это 
безвредное сообщение, просто нажмите [OK] и утилита будет выполнена.</p>
</div>
</div>
<div class="section" id="warnings">
<h1><a class="toc-backref" href="#id14">Предупреждения</a></h1>
<ul>
<li><p class="first"><strong>Если у вас ценные и важные файлы вложений необходимо 
использовать режим ограниченного доступа!</strong> Если используется обычный режим доступа, 
файлы вложений сохраняются в общедоступном каталоге и они доступы 
любому, кто знает полный путь к файлу.  Режим <em>ограниченный доступ</em> предотвращает доступ 
любого пользователя, который не имеет достаточных прав (которые устанавливаются при помощи опций, 
описанных выше). См. более подробно в описании опции <em>Скачивание при ограниченном доступе</em>.</p>
</li>
<li><p class="first">Каждый раз при загрузке файла выполняется проверка существования каталога для загрузки 
и он создается в случае отсутствия. По умолчанию каталог 
для загрузки файлов называется 'attachments' и находится в корневом каталоге 
вашего сайта. Имя для каталога загрузки может быть изменено 
при помощи опции 'Каталог для загрузки'. Если расширение ВЛОЖЕНИЯ (Attachments) не может 
создать каталог для загрузки, необходимо создать его вручную (иначе будут 
проблемы при загрузке файлов). Проверьте установлены ли необходимые 
разрешения для загрузки файлов в данный каталог.  В Unix/Linux системах это 
значение равно 775.  Внимание, процесс создания каталога для загрузки может не удасться, если настройки вашего сервера (или PHP)
запрещают создавать подкаталоги.  Возможно вам прийдется времено убрать эти ограничения.</p>
</li>
<li><p class="first">Если вам не удается загружать файлы определенного типа 
(например zip архивы), помните что раширение ВЛОЖЕНИЯ использует 
ограничения, накладываемые медиа менеджером. Это сделано, чтобы не загрузать 
потенциально опасные файлы такие как *.php или *.html.
Администратор может изменить настройки медиа менеджера, чтобы добавить требуемый тип файлов.
(Путь: &quot;Сайт&quot; > &quot;Настройки&quot; > закладка &quot;Система&quot; > раздел &quot;Мультимедиа&quot;).</p>
</li>
<li><p class="first">Если вы не видите вложений, этому может быть несколько причин:</p>
<blockquote>
<ul class="simple">
<li>Вложение не опубликовано.  Необходимо опубликовать вложение через админ панель расширения.</li>
<li>Родитель вложения не опубликован.</li>
<li>Опция 'Кто может видеть вложения?' установлена в режим 'любой пользователь' 
а вы не залогинились.</li>
<li>Выбран режим 'Никто' опции 'Кто может видеть вложения?'. Необходимо изменить соответствующие настройки расширения.</li>
<li>Плагин 'Content - Attachments' не включен.  Воспользуйтесь менеджером плагинов, чтобы его включить.</li>
<li>Опция плагина 'Content - Attachments' 'Уровень доступа' установлена в режим не 'Общий'.</li>
<li>Если ваш сайт использует кеширование попробуйте очистить кеш и обновить страницу.</li>
</ul>
</blockquote>
</li>
<li><p class="first">Если вы столкнулись с ограничением на размер загружаемого файла попробуйте 
добавить следующие строчки в файл .htaccess в корне вашего сайта:</p>
<pre class="literal-block">
php_value upload_max_filesize 32M
php_value post_max_size 32M
</pre>
<p>где значение 32M (мегабайта) заменить 
на необходимое значение в качестве ограничения максимального размера загружаемых файлов.</p>
</li>
<li><p class="first">Расширение ВЛОЖЕНИЯ поддерживает &quot;вложение&quot; ссылок.  Если сайт расположен
на компьютере с ОС Windows Vista и возникли проблемы при присоединении ссылки, связанные с
<tt class="docutils literal">localhost</tt>, то известная проблема связанная с конфликтом IPv4 и IPv6.
Для решения этой проблемы необходимо отредактировать файл:</p>
<pre class="literal-block">
C:\Windows\System32\drivers\etc\hosts
</pre>
<p>Закомментировать строку, содержащую <tt class="docutils literal">::1</tt>  Отметим, что файл <tt class="docutils literal">hosts</tt> это
скрытый файл. Для его редактирования необходимо изменить настройки отображения каталога чтобы отобразить скрытые файлы.</p>
</li>
<li><p class="first">В случае возникновения проблем при вложении файлов, имеющих Unicode символы в названии файлов 
(например названия файлов на русском языке), установите опцию 
<em>Режим ограниченного доступа</em> в ДА. 
Обработка файлов с Unicode символами обрабатывается корректно на 
Linux серверах в ограниченном и обычном режимах, но не всегда корректно работает 
на Windows серверах в обычном режиме.</p>
</li>
<li><p class="first">Расширение ВЛОЖЕНИЯ поддерживает вложение файлов к статьям при их
создании в редакторе статей.  При этом существует ограничение:  новые
вложения после их загрузки и до сохранения статьи первый раз находятся в состоянии 'limbo'.
 Во время этого состояния (которое желательно делать максимально коротким)
новые вложения идентифициются только по ID пользователя.  Следовательно,
если более чем один пользователь использует одну и ту же пользовательскую запись и они создают
статьи в одно и то же время и добавляют вложения, то нет никакой гарантии
что файлы вложений будут присоединены к тем статьям, к которым планировались вложения.</p>
</li>
<li><p class="first">Существует форум помощи и форум Часто Задаваемых Вопросов о расширении ВЛОЖЕНИЯ на сайте Joomlacode, 
(joomlacode.org). Если вы обнаружили проблему, не описанную в данном файле помощи, пожалуйста проконсультируйтесь на форумах. 
 (Просьба задавать вопросы на форуме помощи. Часто встречающиеся вопросы будут помещены 
в раздел FAQ'):</p>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="http://joomlacode.org/gf/project/attachments3/forum/">Форум ВЛОЖЕНИЯ на
http://joomlacode.org/gf/project/attachments3/forum/</a></li>
</ul>
</blockquote>
</li>
</ul>
</div>
<div class="section" id="upgrading">
<h1><a class="toc-backref" href="#id15">Обновление</a></h1>
<p>Обновление расширения выполняется очень просто. Существует два пути:</p>
<ol class="arabic simple">
<li>Просто проинсталлируйте новую версию ВЛОЖЕНИЯ. Нет необходимости в 
удалении предыдущей версии. Вам нет необходимости сохранять ваши 
старые вложения. Достаточно проинсталлировать новую версию. При этом необходимые обновления произойдут
автоматически.</li>
<li>НОВИНКА: В Joomla 1.6+ добавлена возможность автоматического обновления 
расширений.  Перейдите 'Расширения' > 'Менеджер расширений' > Закладка 'Обновление'. 
Нажмите кнопку 'Очистить кэш' и затем 'Найти обновления' наn 
тулбар.  Если существует новая версия ВЛОЖЕНИЯ, она появится в списке. 
Выберите необходимую версию и нажмите кнопку 'Обновить' 
на тулбар для установки.  Этот способ позволяет обновлять расширение ВЛОЖЕНИЯ 
еще проще!</li>
</ol>
</div>
<div class="section" id="uninstalling">
<h1><a class="toc-backref" href="#id16">Удаление</a></h1>
<ul>
<li><p class="first">Для удаления расширения ВЛОЖЕНИЯ (Attachments) перейдите 
'Расширения' > 'Менеджер расширений' > Закладка 'Управление'. <strong>Выбрать ТОЛЬКО это</strong>:</p>
<pre class="literal-block">
Package: Attachments for Joomla 1.6+
</pre>
<p>и нажмите кнопку 'Деинсталлировать' на тулбар.  Расширение ВЛОЖЕНИЯ 
и все его плагины будут удалены.</p>
</li>
<li><p class="first">Если необходимо сохранить ваши вложения, сделайте копию каталога 'attachments', 
который находится в корневом каталоге сайта на Joomla и скопируйте таблицу '_attachments' 
из базы MySQL сайта.  Если вы намереваетесь переинсталлировать расширение, см. описание утилиты 
<strong>Запретить удаление таблицы вложений MySQL</strong>  в разделе <a class="reference internal" href="#administrative-utility-commands">Утилиты</a> для предотвращения удаления таблицы базы MySQL в которой хранятся данные о вложениях 
при удалении расширения ВЛОЖЕНИЯ.</p>
</li>
<li><p class="first">Если нет необходимости в сохранении существующих вложений, удалите их вначале 
через админ панель. Следовательно при удалении расширения ВЛОЖЕНИЯ возможно 
удалить каталог 'attachments' в корне сайта на Joomla.</p>
</li>
</ul>
</div>
<div class="section" id="migration-attachments-from-joomla-1-5-to-joomla-1-6">
<h1><a class="toc-backref" href="#id17">Обновление компонента ВЛОЖЕНИЯ Joomla 1.5 до Joomla 1.6+</a></h1>
<p>Для переноса ваших вложений с сайта на Joomla 1.5 на Joomla 1.6 сайт (или позднее) 
следуйте инстукции, приведенной далее:</p>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="http://jmcameron.net/attachments/migration/">Переход расширения ВЛОЖЕНИЯ (Attachments) с Joomla 1.5 на Joomla 1.6+</a></li>
</ul>
</blockquote>
</div>
<div class="section" id="translations">
<h1><a class="toc-backref" href="#id18">Переводы</a></h1>
<p>Это расширение позволяет подключать различные языковые пакети 
и поддерживает следующие языки (помимо английского).
Многие из языковых пакетов находятся в процессе обновления 
до версии 3.0.</p>
<p>Огромная благодарность следующим переводчикам (доступные версии указаны в скобках):</p>
<ul class="simple">
<li><strong>Болгарский (Bulgarian):</strong> перевод Stefan Ilivanov (1.3.4)</li>
<li><strong>Венгерский (Hungarian):</strong> Формальный и неформальный переводы Szabolcs Gáspár (1.3.4)</li>
<li><strong>Греческий (Greek):</strong> перевод Harry Nakos (1.3.4)</li>
<li><strong>Индонезийский (Indonesian):</strong> перевод Moh. Arif (3.0)</li>
<li><strong>Испанский (Spanish):</strong> перевод Manuel María Pérez Ayala (2.2) и Carlos Alfaro (1.3.4)</li>
<li><strong>Итальянский (Italian):</strong> перевод Piero Mattirolo (2.2, 3.0) и Lemminkainen и Alessandro Bianchi (1.3.4)</li>
<li><strong>Каталанский (Catalan):</strong> перевод Jaume Jorba (2.2, 3.0)</li>
<li><strong>Китайский (Chinese):</strong> Традиционный и упрощенный китайские переводы baijianpeng (白建鹏) (1.3.4)</li>
<li><strong>Немецкий (German):</strong> перевод Pierre Corell (3.0), Bernhard Alois Gassner (2.2), и Michael Scherer (1.3.4)</li>
<li><strong>Нидерландский (Dutch):</strong> перевод Parvus (2.2)</li>
<li><strong>Норвежский (Norwegian):</strong> перевод Roar Jystad (2.2, 3.0) и Espen Gjelsvik (1.3.4)</li>
<li><strong>Персидский (Persian):</strong> перевод Hossein Moradgholi и Mahmood Amintoosi (2.2)</li>
<li><strong>Польский (Polish):</strong> перевод Sebastian Konieczny (2.2, 3.0), Stefan Wajda (3.0), и Piotr Wójcik (1.3.4)</li>
<li><strong>Португальский/Бразильский (Portuguese/Brazilian):</strong> перевод Arnaldo Giacomitti и Cauan Cabral (1.3.4)</li>
<li><strong>Португальский/Португальский (Portuguese/Portugal):</strong> перевод José Paulo Tavares (2.2, 3.0) и Bruno Moreira (1.3.4)</li>
<li><strong>Румынский (Romanian):</strong> перевод Alex Cojocaru (2.2)</li>
<li><strong>Русский (Russian):</strong> перевод Sergey Litvintsev (2.2, 3.0) и Евгений панчев (Yarik Sharoiko) (1.3.4)</li>
<li><strong>Сербский (Serbian):</strong> перевод Vlada Jerkovic (1.3.4)</li>
<li><strong>Словацкий (Slovak):</strong> перевод Miroslav Bystriansky (1.3.4)</li>
<li><strong>Словенский (Slovenian):</strong> перевод Matej Badalič (2.2, 3.0)</li>
<li><strong>Турецкий (Turkish):</strong> перевод Kaya Zeren (2.0)</li>
<li><strong>Украинский (Ukrainian):</strong> перевод Sergey Litvintsev (3.0)</li>
<li><strong>Финский (Finnish):</strong> перевод Tapani Lehtonen (2.2)</li>
<li><strong>Французский (French):</strong> перевод Marc-André Ladouceur (2.2, 3.0), Yann Kerviel (3.0), и Pascal Adalian (1.3.4)</li>
<li><strong>Хорватский (Croatian):</strong> перевод Tanja Dragisic (1.3.4)</li>
<li><strong>Чешский (Czech):</strong> перевод Tomas Udrzal (1.3.4)</li>
<li><strong>Шведский (Swedish):</strong> перевод Linda Maltanski (2.0) и Mats Elfström (1.3.4)</li>
</ul>
<p>Большое спасибо всем переводчикам!  Если вы хотите помочь с переводом расширения на другие языки, 
пожалуйста свяжитесь с автором (см. раздел
<a class="reference internal" href="#contact">Контакты</a> в конце).</p>
</div>
<div class="section" id="acknowledgments">
<h1><a class="toc-backref" href="#id19">Благодарности</a></h1>
<p>Большое спасибо людям и ресурсам внесшим большой вклад в проект:</p>
<ul>
<li><p class="first">Книга Джозефа Л. ЛеБланк <em>Изучение разработки расширений Joomla! 1.5: Создание Модулей,
    Компонент, и Плагинов на PHP</em> была очень полезна при написании расширения ВЛОЖЕНИЯ (Attachments).</p>
</li>
<li><dl class="first docutils">
<dt>Иконки для типов файлов были получены из нескольких источников, включая:</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://www.famfamfam.com/lab/icons/silk/">Шелковые иконки Марка Джаймса [Mark James] (http://www.famfamfam.com/lab/icons/silk/)</a></li>
<li><a class="reference external" href="http://www.zap.org.au/documents/icons/file-icons/sample.html">Иконки типов файлов 1.2 Джона Зайцева [John Zaitseff] (http://www.zap.org.au/documents/icons/file-icons/sample.html)</a></li>
<li><a class="reference external" href="http://www.brandspankingnew.net/archive/2006/06/doctype_icons_2.html">Doctype иконки 2 Тимоти Грувс [Timothy Groves] (http://www.brandspankingnew.net/archive/2006/06/doctype_icons_2.html)</a></li>
<li><a class="reference external" href="http://eis.bris.ac.uk/~cckhrb/webdev/">Иконки OpenDocument Кена Барона [Ken Baron] (http://eis.bris.ac.uk/~cckhrb/webdev/)</a></li>
<li><a class="reference external" href="http://sweetie.sublink.ca">Пакет Сладостей от Джозефа Норта [Joseph North] (http://sweetie.sublink.ca)</a></li>
</ul>
</dd>
</dl>
<p>Замечание: большинство иконок ВЛОЖЕНИЯ (Attachments) 
отличаются от аналогичных на этих сайтах. Если вы хотите получить оригинальные версии, 
пожалуйста загрузите их с этих веб сайтов.</p>
</li>
<li><p class="first">Большое спасибо Paul McDermott за огромную помощь в плагине поиска!</p>
</li>
<li><p class="first">Большое спасибо Mohammad Samini за предоставленный код PHP и CSS файлы
для улучшения расширения ВЛОЖЕНИЯ при отображении использовании языков, использующих написание справа-налево.</p>
</li>
<li><p class="first">Большое спасибо Ewout Weirda за полезную и дисскуссию и советы
при разработке расширения ВЛОЖЕНИЯ.</p>
</li>
</ul>
</div>
<div class="section" id="contact">
<h1><a class="toc-backref" href="#id20">Контакты</a></h1>
<p>Пожалуйста сообщайте об замеченных ошибках и предложениях по адресу <a class="reference external" href="mailto:jmcameron&#64;jmcameron.net">jmcameron&#64;jmcameron.net</a></p>
<!-- LocalWords:  html plugin plugins ACL onPrepareContent filename Filenames qq -->
<!-- LocalWords:  filenames frontend username PHP strftime CSS attachmentsList -->
<!-- LocalWords:  QQ inline unpublish else's uncheck http php uninstallation IPv -->
<!-- LocalWords:  MySQL uninstalled uninstalling uninstall unarchiving htaccess -->
<!-- LocalWords:  filesize localhost joomlacode PREFRERRED -->
</div>
</div>
<div class="footer">
<hr class="footer" />
Перевед закончен 6 Января 2012 в 20:35 UTC.

</div>
</body>
</html>
